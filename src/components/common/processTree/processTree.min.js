
!function(n,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t=e();for(var r in t)("object"==typeof exports?exports:n)[r]=t[r]}}("undefined"!=typeof self?self:this,function(){return function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="/dist/",e(e.s=35)}([function(n,e,t){var r=t(28)("wks"),o=t(29),i=t(1).Symbol,s="function"==typeof i;(n.exports=function(n){return r[n]||(r[n]=s&&i[n]||(s?i:o)("Symbol."+n))}).store=r},function(n,e){var t=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(n,e){var t=n.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},function(n,e,t){var r=t(4),o=t(11);n.exports=t(6)?function(n,e,t){return r.f(n,e,o(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(5),o=t(49),i=t(50),s=Object.defineProperty;e.f=t(6)?Object.defineProperty:function(n,e,t){if(r(n),e=i(e,!0),r(t),o)try{return s(n,e,t)}catch(n){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(10);n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},function(n,e,t){n.exports=!t(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n,e){var t={}.hasOwnProperty;n.exports=function(n,e){return t.call(n,e)}},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?r:t)(n)}},function(n,e){n.exports=function(n){if(void 0==n)throw TypeError("Can't call method on  "+n);return n}},function(n,e){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){n.exports={}},function(n,e,t){var r=t(28)("keys"),o=t(29);n.exports=function(n){return r[n]||(r[n]=o(n))}},function(n,e){function t(n,e){var t=n[1]||"",o=n[3];if(!o)return t;if(e&&"function"==typeof btoa){var i=r(o);return[t].concat(o.sources.map(function(n){return"/*# sourceURL="+o.sourceRoot+n+" */"})).concat([i]).join("\n")}return[t].join("\n")}function r(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var r=t(e,n);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<n.length;o++){var s=n[o];"number"==typeof s[0]&&r[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),e.push(s))}},e}},function(n,e,t){function r(n){for(var e=0;e<n.length;e++){var t=n[e],r=u[t.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](t.parts[o]);for(;o<t.parts.length;o++)r.parts.push(i(t.parts[o]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{for(var s=[],o=0;o<t.parts.length;o++)s.push(i(t.parts[o]));u[t.id]={id:t.id,refs:1,parts:s}}}}function o(){var n=document.createElement("style");return n.type="text/css",d.appendChild(n),n}function i(n){var e,t,r=document.querySelector("style["+m+'~="'+n.id+'"]');if(r){if(p)return h;r.parentNode.removeChild(r)}if(g){var i=f++;r=A||(A=o()),e=s.bind(null,r,i,!1),t=s.bind(null,r,i,!0)}else r=o(),e=a.bind(null,r),t=function(){r.parentNode.removeChild(r)};return e(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;e(n=r)}else t()}}function s(n,e,t,r){var o=t?"":r.css;if(n.styleSheet)n.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),s=n.childNodes;s[e]&&n.removeChild(s[e]),s.length?n.insertBefore(i,s[e]):n.appendChild(i)}}function a(n,e){var t=e.css,r=e.media,o=e.sourceMap;if(r&&n.setAttribute("media",r),v.ssrId&&n.setAttribute(m,e.id),o&&(t+="\n/*# sourceURL="+o.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=t(39),u={},d=c&&(document.head||document.getElementsByTagName("head")[0]),A=null,f=0,p=!1,h=function(){},v=null,m="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());n.exports=function(n,e,t,o){p=t,v=o||{};var i=l(n,e);return r(i),function(e){for(var t=[],o=0;o<i.length;o++){var s=i[o],a=u[s.id];a.refs--,t.push(a)}e?(i=l(n,e),r(i)):i=[];for(var o=0;o<t.length;o++){var a=t[o];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete u[a.id]}}}};var y=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}()},function(n,e){n.exports=function(n,e,t,r,o,i){var s,a=n=n||{},c=typeof n.default;"object"!==c&&"function"!==c||(s=n,a=n.default);var l="function"==typeof a?a.options:a;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),t&&(l.functional=!0),o&&(l._scopeId=o);var u;if(i?(u=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,n||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),r&&r.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},l._ssrRegister=u):r&&(u=r),u){var d=l.functional,A=d?l.render:l.beforeCreate;d?(l._injectStyles=u,l.render=function(n,e){return u.call(e),A(n,e)}):l.beforeCreate=A?[].concat(A,u):[u]}return{esModule:s,exports:a,options:l}}},function(n,e,t){"use strict";var r=t(40);e.a={props:{treeData:{type:Array,default:function(){return[]}}},data:function(){return{}},mounted:function(){this.$refs.tree.initDomWidth()},watch:{treeData:function(){this.$nextTick(this.$refs.tree.initDomWidth)}},directives:{dragabled:{bind:function(n,e,t,r){e&&(n.onmousedown=function(e){var t=e.clientX,r=e.clientY;n.style.cursor="move",document.onmousemove=function(e){e.preventDefault();var o=e.clientX-t;t=e.clientX,n.scrollLeft+=-o;var i=e.clientY-r;r=e.clientY,n.scrollTop+=-i},document.onmouseup=function(e){n.style.cursor="auto",document.onmousemove=null,document.onmouseup=null}})}}},components:{ProcessTree:r.a}}},function(n,e,t){"use strict";var r=t(43),o=t.n(r),i=t(19),s=t.n(i),a=t(69),c=t.n(a);e.a={name:"processTree",props:{data:{type:Array,default:function(){return[]}},isChild:{type:Boolean,default:!1}},data:function(){return{convertData:this.convert(this.data),rootStyle:{}}},watch:{data:function(){this.convertData=this.convert(this.data)}},computed:{treeRefName:function(){return this.isChild?"childTree":"baseTree"},treeClassName:function(){return this.isChild?"":"process-tree"}},methods:{initDomWidth:function(){var n=this,e=document.getElementsByClassName("leaf-node");e=s()(e),e=e.map(function(e){return n.getOffset(e,"offsetLeft")}),this.rootStyle={width:1.5*Math.max.apply(Math,o()(e))+"px"}},getOffset:function(n,e){for(var t=n[e],r=n.offsetParent;null!=r;)t+=r[e],r=r.offsetParent;return t},convert:function(n){var e=this;return n.map(function(n){return n.uuid=c()(),n.children&&n.children.length>0&&(n.children=e.convert(n.children)),n})},isLeaftNode:function(n){return n.children&&n.children.length>0?"":"leaf-node"}}}},function(n,e,t){n.exports={default:t(44),__esModule:!0}},function(n,e){n.exports=!0},function(n,e,t){var r=t(1),o=t(2),i=t(22),s=t(3),a=t(7),c=function(n,e,t){var l,u,d,A=n&c.F,f=n&c.G,p=n&c.S,h=n&c.P,v=n&c.B,m=n&c.W,g=f?o:o[e]||(o[e]={}),y=g.prototype,C=f?r:p?r[e]:(r[e]||{}).prototype;f&&(t=e);for(l in t)(u=!A&&C&&void 0!==C[l])&&a(g,l)||(d=u?C[l]:t[l],g[l]=f&&"function"!=typeof C[l]?t[l]:v&&u?i(d,r):m&&C[l]==d?function(n){var e=function(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)};return e.prototype=n.prototype,e}(d):h&&"function"==typeof d?i(Function.call,d):d,h&&((g.virtual||(g.virtual={}))[l]=d,n&c.R&&y&&!y[l]&&s(y,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,n.exports=c},function(n,e,t){var r=t(48);n.exports=function(n,e,t){if(r(n),void 0===e)return n;switch(t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,r){return n.call(e,t,r)};case 3:return function(t,r,o){return n.call(e,t,r,o)}}return function(){return n.apply(e,arguments)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(10),o=t(1).document,i=r(o)&&r(o.createElement);n.exports=function(n){return i?o.createElement(n):{}}},function(n,e,t){var r=t(57),o=t(9);n.exports=function(n){return r(o(n))}},function(n,e){var t={}.toString;n.exports=function(n){return t.call(n).slice(8,-1)}},function(n,e,t){var r=t(8),o=Math.min;n.exports=function(n){return n>0?o(r(n),9007199254740991):0}},function(n,e,t){var r=t(2),o=t(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(n.exports=function(n,e){return i[n]||(i[n]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:t(20)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(n,e){var t=0,r=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++t+r).toString(36))}},function(n,e){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n,e,t){var r=t(4).f,o=t(7),i=t(0)("toStringTag");n.exports=function(n,e,t){n&&!o(n=t?n:n.prototype,i)&&r(n,i,{configurable:!0,value:e})}},function(n,e,t){var r=t(9);n.exports=function(n){return Object(r(n))}},function(n,e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);n.exports=function(){return t(r),r}}else{var o=new Array(16);n.exports=function(){for(var n,e=0;e<16;e++)0==(3&e)&&(n=4294967296*Math.random()),o[e]=n>>>((3&e)<<3)&255;return o}}},function(n,e){function t(n,e){var t=e||0,o=r;return[o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],"-",o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]],o[n[t++]]].join("")}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);n.exports=t},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(36);e.default=r.a},function(n,e,t){"use strict";function r(n){s||t(37)}var o=t(17),i=t(73),s=!1,a=t(16),c=r,l=a(o.a,i.a,!1,c,"data-v-f3ef6b12",null);l.options.__file="src/component/index.vue",e.a=l.exports},function(n,e,t){var r=t(38);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t(15)("95d52e18",r,!1,{})},function(n,e,t){e=n.exports=t(14)(!0),e.push([n.i,"\n.tree-wrap[data-v-f3ef6b12]{\n    position: absolute;\n    overflow: hidden;\n    width:100%;\n    height:100%;\n    top:0;\n    left:0\n}\n.tree-wrap>div[data-v-f3ef6b12]{\n    width:calc(100% + 17px);\n    height:calc(100% + 17px);\n}\n","",{version:3,sources:["E:/work/training/component/processTree/src/component/src/component/index.vue"],names:[],mappings:";AAqEA;IACA,mBAAA;IACA,iBAAA;IACA,WAAA;IACA,YAAA;IACA,MAAA;IACA,MAAA;CACA;AACA;IACA,wBAAA;IACA,yBAAA;CACA",file:"index.vue",sourcesContent:["<template>\n    <div class=\"tree-wrap\">\n        <ProcessTree ref=\"tree\" :data=\"treeData\" v-dragabled/>\n    </div>\n</template>\n\n<script>\nimport ProcessTree from './tree.vue'\nexport default {\n    props:{\n        treeData:{\n            type:Array,\n            default:()=>{\n                return []\n            }\n        }\n    },\n    data(){\n        return {\n            \n        }\n    },\n    mounted(){\n        this.$refs.tree.initDomWidth();\n    },\n    watch:{\n        treeData(){\n            this.$nextTick(this.$refs.tree.initDomWidth)\n        }\n    },\n    directives:{\n        dragabled:{\n            bind(el, binding, vnode, oldVnode) {\n                if(!binding) return\n                el.onmousedown = (e) => {\n                    // é¼ æ æä¸ï¼è®¡ç®å½ååç´ è·ç¦»å¯è§åºçè·ç¦»\n                    let disX = e.clientX;\n                    let disY = e.clientY;\n                    el.style.cursor='move';\n                    \n                    document.onmousemove = function (e) {\n                        e.preventDefault(); // ç§»å¨æ¶ç¦ç¨é»è®¤äºä»¶\n\n                        // éè¿äºä»¶å§æï¼è®¡ç®ç§»å¨çè·ç¦» \n                        const left = e.clientX - disX;\n                        disX=e.clientX;\n                        el.scrollLeft+=-left;\n                        \n                        const top = e.clientY - disY;\n                        disY=e.clientY;\n                        el.scrollTop+=-top;\n                    };\n\n                    document.onmouseup = function (e) {\n                        el.style.cursor='auto';\n                        document.onmousemove = null;\n                        document.onmouseup = null;\n                    };\n                } \n            }\n        }\n    },\n    components:{\n        ProcessTree\n    }\n}\n<\/script>\n\n<style scoped>\n.tree-wrap{\n    position: absolute;\n    overflow: hidden;\n    width:100%;\n    height:100%;\n    top:0;\n    left:0\n}\n.tree-wrap>div{\n    width:calc(100% + 17px);\n    height:calc(100% + 17px);\n}\n</style>"],sourceRoot:""}])},function(n,e){n.exports=function(n,e){for(var t=[],r={},o=0;o<e.length;o++){var i=e[o],s=i[0],a=i[1],c=i[2],l=i[3],u={id:n+":"+o,css:a,media:c,sourceMap:l};r[s]?r[s].parts.push(u):t.push(r[s]={id:s,parts:[u]})}return t}},function(n,e,t){"use strict";function r(n){s||t(41)}var o=t(18),i=t(72),s=!1,a=t(16),c=r,l=a(o.a,i.a,!1,c,"data-v-79774989",null);l.options.__file="src/component/tree.vue",e.a=l.exports},function(n,e,t){var r=t(42);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t(15)("00ea3785",r,!1,{})},function(n,e,t){e=n.exports=t(14)(!0),e.push([n.i,'\n.process-tree[data-v-79774989]{\r\n    padding: 10px;\r\n    overflow: scroll;\r\n    padding-bottom: 27px;\r\n    width: 100%;\r\n    padding-right:0;\r\n    font-size:0;\r\n    line-height:0\n}\n.process-tree-roots[data-v-79774989]{\r\n    width:250%;\r\n    margin-bottom:20px;\n}\n.single-node[data-v-79774989]::before{\r\n    content:"";\r\n    display:block;\r\n    position: absolute;\r\n    width:23px;\r\n    height:3px;\r\n    background:rgba(203,221,238,1);\r\n    left:-23px;\r\n    top:52%;\n}\n.multiply-node[data-v-79774989]::before{\r\n    content:"";\r\n    display:block;\r\n    position: absolute;\r\n    width:3px;\r\n    height:100%;\r\n    background:rgba(203,221,238,1);\r\n    left:-23px;\r\n    top:0;\n}\n.process-tree-node[data-v-79774989]{\r\n    position: relative;\r\n    padding:6px 10px;\r\n    background:rgba(203,221,238,1);\r\n    border-radius:2px;\r\n    color:#333;\r\n    display:inline-block;\r\n    cursor: pointer;\r\n    min-width:80px;\r\n    text-align:center;\r\n    font-size: 12px;\r\n    line-height: 1.8em;\r\n    vertical-align: middle;\r\n    min-height:20px;\n}\n.process-tree-node[data-v-79774989]::after{\r\n    content:\'\';\r\n    display:block;\r\n    width:20px;\r\n    height:3px;\r\n    background:rgba(203,221,238,1);\r\n    position:absolute;\r\n    left:100%;\r\n    top:50%\n}\n.leaf-node[data-v-79774989]::after{\r\n    display:none\n}\n.process-tree-childNodes[data-v-79774989]{\r\n    position: relative;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-left:43px;\r\n    top: -.5px;\n}\n.process-tree-childNodes>div[data-v-79774989]{\r\n    display:flex;\r\n    flex-direction: column;\r\n    justify-content:space-between;\n}\n.multiply-node .process-tree-childNodes-row[data-v-79774989]::before{\r\n    content:"";\r\n    display:block;\r\n    position: absolute;\r\n    width:20px;\r\n    height:3px;\r\n    background:rgba(203,221,238,1);\r\n    left:-20px;\r\n    top:50%;\n}\n.multiply-node .process-tree-childNodes-row[data-v-79774989]:first-child::after,\r\n.multiply-node .process-tree-childNodes-row[data-v-79774989]:last-child::after{\r\n    content:\'\';\r\n    position:absolute;\r\n    display:block;\r\n    width:4px;\r\n    height:50%;\r\n    background:#fff;\r\n    left:-23px;\n}\n.multiply-node .long-with-line[data-v-79774989]:first-child::after,\r\n.multiply-node .long-with-line[data-v-79774989]:last-child::after{\r\n    left:-166px\n}\n.multiply-node .process-tree-childNodes-row[data-v-79774989]:first-child::after{\r\n    top:0px\n}\n.multiply-node .process-tree-childNodes-row[data-v-79774989]:last-child::after{\r\n    bottom:-4px;\n}\n.process-tree-childNodes-row[data-v-79774989]{\r\n    position: relative;\r\n    margin-bottom:10px\n}\n.process-tree-childNodes-row[data-v-79774989]:last-child{\r\n    margin-bottom:0\n}\n.long-with-line[data-v-79774989]{\r\n    margin-left:142px;\n}\n.line[data-v-79774989]{\r\n    position: absolute;\r\n    width:142px;\r\n    height:3px;\r\n    background-color:rgba(203,221,238,1);\r\n    top:50%;\r\n    left:-161px\n}\r\n',"",{version:3,sources:["E:/work/training/component/processTree/src/component/src/component/tree.vue"],names:[],mappings:";AA+GA;IACA,cAAA;IACA,iBAAA;IACA,qBAAA;IACA,YAAA;IACA,gBAAA;IACA,YAAA;IACA,aAAA;CACA;AACA;IACA,WAAA;IACA,mBAAA;CACA;AACA;IACA,WAAA;IACA,cAAA;IACA,mBAAA;IACA,WAAA;IACA,WAAA;IACA,+BAAA;IACA,WAAA;IACA,QAAA;CACA;AACA;IACA,WAAA;IACA,cAAA;IACA,mBAAA;IACA,UAAA;IACA,YAAA;IACA,+BAAA;IACA,WAAA;IACA,MAAA;CACA;AAEA;IACA,mBAAA;IACA,iBAAA;IACA,+BAAA;IACA,kBAAA;IACA,WAAA;IACA,qBAAA;IACA,gBAAA;IACA,eAAA;IACA,kBAAA;IACA,gBAAA;IACA,mBAAA;IACA,uBAAA;IACA,gBAAA;CACA;AACA;IACA,WAAA;IACA,cAAA;IACA,WAAA;IACA,WAAA;IACA,+BAAA;IACA,kBAAA;IACA,UAAA;IACA,OAAA;CACA;AACA;IACA,YAAA;CACA;AAEA;IACA,mBAAA;IACA,sBAAA;IACA,uBAAA;IACA,iBAAA;IACA,WAAA;CACA;AACA;IACA,aAAA;IACA,uBAAA;IACA,8BAAA;CACA;AAEA;IACA,WAAA;IACA,cAAA;IACA,mBAAA;IACA,WAAA;IACA,WAAA;IACA,+BAAA;IACA,WAAA;IACA,QAAA;CACA;AACA;;IAEA,WAAA;IACA,kBAAA;IACA,cAAA;IACA,UAAA;IACA,WAAA;IACA,gBAAA;IACA,WAAA;CACA;AACA;;IAEA,WAAA;CACA;AACA;IACA,OAAA;CACA;AACA;IACA,YAAA;CACA;AAEA;IACA,mBAAA;IACA,kBAAA;CACA;AACA;IACA,eAAA;CACA;AAEA;IACA,kBAAA;CACA;AACA;IACA,mBAAA;IACA,YAAA;IACA,WAAA;IACA,qCAAA;IACA,QAAA;IACA,WAAA;CACA",file:"tree.vue",sourcesContent:['<template>\r\n    <div :ref="treeRefName"\r\n    :class="treeClassName">\r\n        <div v-for="(item) in convertData" :key="item.uuid" \r\n        :class="[isChild?\'process-tree-childNodes-row\':\'process-tree-roots\',\r\n            isChild && item.isLong?\'long-with-line\':\'\']" \r\n        :style="rootStyle">\r\n            <span class="process-tree-node"\r\n            :class="isLeaftNode(item)">{{item.name}}</span>\r\n\r\n            <div class="process-tree-childNodes"\r\n            v-if="item.children"\r\n            :class="item.children.length>1?\'multiply-node\':\'single-node\'">\r\n                <div>\r\n                    <div v-for="(child,index) in item.children" :key="index"\r\n                    class="process-tree-childNodes-row" \r\n                    :class="[child.isLong?\'long-with-line\':\'\']">\r\n                        <div class="line" v-if="child.isLong"></div>\r\n                        <span class="process-tree-node"\r\n                        :class="isLeaftNode(child)">{{child.name}}</span>\r\n                        \r\n                        <div class="process-tree-childNodes"\r\n                        v-if="child.children"\r\n                        :class="[\r\n                            child.children.length>1?\'multiply-node\':\'\',\r\n                            child.children.length==1?\'single-node\':\'\',\r\n                        ]">\r\n                            <processTree \r\n                            :data="child.children || []" \r\n                            :isChild="true"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport uuidv4 from \'uuid\'\r\nexport default {\r\n    name:\'processTree\',\r\n    props:{\r\n        data:{\r\n            type:Array,\r\n            default:()=>{\r\n                return []\r\n            }\r\n        },\r\n        isChild:{\r\n            type:Boolean,\r\n            default:false\r\n        }\r\n    },\r\n    data(){\r\n        return {\r\n            convertData:this.convert(this.data),\r\n            rootStyle:{}\r\n        }\r\n    },\r\n    watch:{\r\n        data(){\r\n            this.convertData=this.convert(this.data);\r\n        }\r\n    },\r\n    computed:{\r\n        treeRefName(){\r\n            return this.isChild?\'childTree\':\'baseTree\'\r\n        },\r\n        treeClassName(){\r\n            return this.isChild?\'\':\'process-tree\'\r\n        }\r\n    },\r\n    methods:{\r\n        initDomWidth(){\r\n            let leafs=document.getElementsByClassName(\'leaf-node\');\r\n            leafs=Array.from(leafs);\r\n            leafs=leafs.map(i=>{\r\n                let total=this.getOffset(i,\'offsetLeft\');\r\n                return total\r\n            })\r\n            \r\n            this.rootStyle={width:Math.max(...leafs)*1.5+\'px\'}\r\n        },\r\n        getOffset(obj,offsetDir){\t\t\r\n            var realNum = obj[offsetDir];\r\n            var positionParent = obj.offsetParent;  //è·åä¸ä¸çº§å®ä½åç´ å¯¹è±¡\r\n                \r\n            while(positionParent != null){\r\n                realNum += positionParent[offsetDir];\r\n                positionParent = positionParent.offsetParent;\r\n            }\r\n            return realNum;\r\n        },\r\n        convert(arr){\r\n            return arr.map((item)=>{\r\n                item.uuid=uuidv4();\r\n                if(item.children && item.children.length>0){\r\n                    item.children=this.convert(item.children);\r\n                }\r\n                return item\r\n            })\r\n        },\r\n        isLeaftNode(data){\r\n            return (data.children && data.children.length>0)?"":"leaf-node";\r\n        }\r\n    }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n.process-tree{\r\n    padding: 10px;\r\n    overflow: scroll;\r\n    padding-bottom: 27px;\r\n    width: 100%;\r\n    padding-right:0;\r\n    font-size:0;\r\n    line-height:0\r\n}\r\n.process-tree-roots{\r\n    width:250%;\r\n    margin-bottom:20px;\r\n}\r\n.single-node::before{\r\n    content:"";\r\n    display:block;\r\n    position: absolute;\r\n    width:23px;\r\n    height:3px;\r\n    background:rgba(203,221,238,1);\r\n    left:-23px;\r\n    top:52%;\r\n}\r\n.multiply-node::before{\r\n    content:"";\r\n    display:block;\r\n    position: absolute;\r\n    width:3px;\r\n    height:100%;\r\n    background:rgba(203,221,238,1);\r\n    left:-23px;\r\n    top:0;\r\n}\r\n\r\n.process-tree-node{\r\n    position: relative;\r\n    padding:6px 10px;\r\n    background:rgba(203,221,238,1);\r\n    border-radius:2px;\r\n    color:#333;\r\n    display:inline-block;\r\n    cursor: pointer;\r\n    min-width:80px;\r\n    text-align:center;\r\n    font-size: 12px;\r\n    line-height: 1.8em;\r\n    vertical-align: middle;\r\n    min-height:20px;\r\n}\r\n.process-tree-node::after{\r\n    content:\'\';\r\n    display:block;\r\n    width:20px;\r\n    height:3px;\r\n    background:rgba(203,221,238,1);\r\n    position:absolute;\r\n    left:100%;\r\n    top:50%\r\n}\r\n.leaf-node::after{\r\n    display:none\r\n}\r\n\r\n.process-tree-childNodes{\r\n    position: relative;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-left:43px;\r\n    top: -.5px;\r\n}\r\n.process-tree-childNodes>div{\r\n    display:flex;\r\n    flex-direction: column;\r\n    justify-content:space-between;\r\n}\r\n\r\n.multiply-node .process-tree-childNodes-row::before{\r\n    content:"";\r\n    display:block;\r\n    position: absolute;\r\n    width:20px;\r\n    height:3px;\r\n    background:rgba(203,221,238,1);\r\n    left:-20px;\r\n    top:50%;\r\n}\r\n.multiply-node .process-tree-childNodes-row:first-child::after,\r\n.multiply-node .process-tree-childNodes-row:last-child::after{\r\n    content:\'\';\r\n    position:absolute;\r\n    display:block;\r\n    width:4px;\r\n    height:50%;\r\n    background:#fff;\r\n    left:-23px;\r\n}\r\n.multiply-node .long-with-line:first-child::after,\r\n.multiply-node .long-with-line:last-child::after{\r\n    left:-166px\r\n}\r\n.multiply-node .process-tree-childNodes-row:first-child::after{\r\n    top:0px\r\n}\r\n.multiply-node .process-tree-childNodes-row:last-child::after{\r\n    bottom:-4px;\r\n}\r\n\r\n.process-tree-childNodes-row{\r\n    position: relative;\r\n    margin-bottom:10px\r\n}\r\n.process-tree-childNodes-row:last-child{\r\n    margin-bottom:0\r\n}\r\n\r\n.long-with-line{\r\n    margin-left:142px;\r\n}\r\n.line{\r\n    position: absolute;\r\n    width:142px;\r\n    height:3px;\r\n    background-color:rgba(203,221,238,1);\r\n    top:50%;\r\n    left:-161px\r\n}\r\n</style>'],sourceRoot:""}])},function(n,e,t){"use strict";e.__esModule=!0;var r=t(19),o=function(n){return n&&n.__esModule?n:{default:n}}(r);e.default=function(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return(0,o.default)(n)}},function(n,e,t){t(45),t(62),n.exports=t(2).Array.from},function(n,e,t){"use strict";var r=t(46)(!0);t(47)(String,"String",function(n){this._t=String(n),this._i=0},function(){var n,e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(n=r(e,t),this._i+=n.length,{value:n,done:!1})})},function(n,e,t){var r=t(8),o=t(9);n.exports=function(n){return function(e,t){var i,s,a=String(o(e)),c=r(t),l=a.length;return c<0||c>=l?n?"":void 0:(i=a.charCodeAt(c),i<55296||i>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?n?a.charAt(c):i:n?a.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},function(n,e,t){"use strict";var r=t(20),o=t(21),i=t(51),s=t(3),a=t(12),c=t(52),l=t(31),u=t(61),d=t(0)("iterator"),A=!([].keys&&"next"in[].keys()),f=function(){return this};n.exports=function(n,e,t,p,h,v,m){c(t,e,p);var g,y,C,x=function(n){if(!A&&n in _)return _[n];switch(n){case"keys":case"values":return function(){return new t(this,n)}}return function(){return new t(this,n)}},b=e+" Iterator",w="values"==h,I=!1,_=n.prototype,N=_[d]||_["@@iterator"]||h&&_[h],k=N||x(h),B=h?w?x("entries"):k:void 0,j="Array"==e?_.entries||N:N;if(j&&(C=u(j.call(new n)))!==Object.prototype&&C.next&&(l(C,b,!0),r||"function"==typeof C[d]||s(C,d,f)),w&&N&&"values"!==N.name&&(I=!0,k=function(){return N.call(this)}),r&&!m||!A&&!I&&_[d]||s(_,d,k),a[e]=k,a[b]=f,h)if(g={values:w?k:x("values"),keys:v?k:x("keys"),entries:B},m)for(y in g)y in _||i(_,y,g[y]);else o(o.P+o.F*(A||I),e,g);return g}},function(n,e){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,e,t){n.exports=!t(6)&&!t(23)(function(){return 7!=Object.defineProperty(t(24)("div"),"a",{get:function(){return 7}}).a})},function(n,e,t){var r=t(10);n.exports=function(n,e){if(!r(n))return n;var t,o;if(e&&"function"==typeof(t=n.toString)&&!r(o=t.call(n)))return o;if("function"==typeof(t=n.valueOf)&&!r(o=t.call(n)))return o;if(!e&&"function"==typeof(t=n.toString)&&!r(o=t.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},function(n,e,t){n.exports=t(3)},function(n,e,t){"use strict";var r=t(53),o=t(11),i=t(31),s={};t(3)(s,t(0)("iterator"),function(){return this}),n.exports=function(n,e,t){n.prototype=r(s,{next:o(1,t)}),i(n,e+" Iterator")}},function(n,e,t){var r=t(5),o=t(54),i=t(30),s=t(13)("IE_PROTO"),a=function(){},c=function(){var n,e=t(24)("iframe"),r=i.length;for(e.style.display="none",t(60).appendChild(e),e.src="javascript:",n=e.contentWindow.document,n.open(),n.write("<script>document.F=Object<\/script>"),n.close(),c=n.F;r--;)delete c.prototype[i[r]];return c()};n.exports=Object.create||function(n,e){var t;return null!==n?(a.prototype=r(n),t=new a,a.prototype=null,t[s]=n):t=c(),void 0===e?t:o(t,e)}},function(n,e,t){var r=t(4),o=t(5),i=t(55);n.exports=t(6)?Object.defineProperties:function(n,e){o(n);for(var t,s=i(e),a=s.length,c=0;a>c;)r.f(n,t=s[c++],e[t]);return n}},function(n,e,t){var r=t(56),o=t(30);n.exports=Object.keys||function(n){return r(n,o)}},function(n,e,t){var r=t(7),o=t(25),i=t(58)(!1),s=t(13)("IE_PROTO");n.exports=function(n,e){var t,a=o(n),c=0,l=[];for(t in a)t!=s&&r(a,t)&&l.push(t);for(;e.length>c;)r(a,t=e[c++])&&(~i(l,t)||l.push(t));return l}},function(n,e,t){var r=t(26);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==r(n)?n.split(""):Object(n)}},function(n,e,t){var r=t(25),o=t(27),i=t(59);n.exports=function(n){return function(e,t,s){var a,c=r(e),l=o(c.length),u=i(s,l);if(n&&t!=t){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((n||u in c)&&c[u]===t)return n||u||0;return!n&&-1}}},function(n,e,t){var r=t(8),o=Math.max,i=Math.min;n.exports=function(n,e){return n=r(n),n<0?o(n+e,0):i(n,e)}},function(n,e,t){var r=t(1).document;n.exports=r&&r.documentElement},function(n,e,t){var r=t(7),o=t(32),i=t(13)("IE_PROTO"),s=Object.prototype;n.exports=Object.getPrototypeOf||function(n){return n=o(n),r(n,i)?n[i]:"function"==typeof n.constructor&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?s:null}},function(n,e,t){"use strict";var r=t(22),o=t(21),i=t(32),s=t(63),a=t(64),c=t(27),l=t(65),u=t(66);o(o.S+o.F*!t(68)(function(n){Array.from(n)}),"Array",{from:function(n){var e,t,o,d,A=i(n),f="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,v=void 0!==h,m=0,g=u(A);if(v&&(h=r(h,p>2?arguments[2]:void 0,2)),void 0==g||f==Array&&a(g))for(e=c(A.length),t=new f(e);e>m;m++)l(t,m,v?h(A[m],m):A[m]);else for(d=g.call(A),t=new f;!(o=d.next()).done;m++)l(t,m,v?s(d,h,[o.value,m],!0):o.value);return t.length=m,t}})},function(n,e,t){var r=t(5);n.exports=function(n,e,t,o){try{return o?e(r(t)[0],t[1]):e(t)}catch(e){var i=n.return;throw void 0!==i&&r(i.call(n)),e}}},function(n,e,t){var r=t(12),o=t(0)("iterator"),i=Array.prototype;n.exports=function(n){return void 0!==n&&(r.Array===n||i[o]===n)}},function(n,e,t){"use strict";var r=t(4),o=t(11);n.exports=function(n,e,t){e in n?r.f(n,e,o(0,t)):n[e]=t}},function(n,e,t){var r=t(67),o=t(0)("iterator"),i=t(12);n.exports=t(2).getIteratorMethod=function(n){if(void 0!=n)return n[o]||n["@@iterator"]||i[r(n)]}},function(n,e,t){var r=t(26),o=t(0)("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(n,e){try{return n[e]}catch(n){}};n.exports=function(n){var e,t,a;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=s(e=Object(n),o))?t:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(n,e,t){var r=t(0)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(n){}n.exports=function(n,e){if(!e&&!o)return!1;var t=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:t=!0}},i[r]=function(){return s},n(i)}catch(n){}return t}},function(n,e,t){var r=t(70),o=t(71),i=o;i.v1=r,i.v4=o,n.exports=i},function(n,e,t){function r(n,e,t){var r=e&&t||0,u=e||[];n=n||{};var d=n.node||o,A=void 0!==n.clockseq?n.clockseq:i;if(null==d||null==A){var f=s();null==d&&(d=o=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==A&&(A=i=16383&(f[6]<<8|f[7]))}var p=void 0!==n.msecs?n.msecs:(new Date).getTime(),h=void 0!==n.nsecs?n.nsecs:l+1,v=p-c+(h-l)/1e4;if(v<0&&void 0===n.clockseq&&(A=A+1&16383),(v<0||p>c)&&void 0===n.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,l=h,i=A,p+=122192928e5;var m=(1e4*(268435455&p)+h)%4294967296;u[r++]=m>>>24&255,u[r++]=m>>>16&255,u[r++]=m>>>8&255,u[r++]=255&m;var g=p/4294967296*1e4&268435455;u[r++]=g>>>8&255,u[r++]=255&g,u[r++]=g>>>24&15|16,u[r++]=g>>>16&255,u[r++]=A>>>8|128,u[r++]=255&A;for(var y=0;y<6;++y)u[r+y]=d[y];return e||a(u)}var o,i,s=t(33),a=t(34),c=0,l=0;n.exports=r},function(n,e,t){function r(n,e,t){var r=e&&t||0;"string"==typeof n&&(e="binary"===n?new Array(16):null,n=null),n=n||{};var s=n.random||(n.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[r+a]=s[a];return e||i(s)}var o=t(33),i=t(34);n.exports=r},function(n,e,t){"use strict";var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{ref:n.treeRefName,class:n.treeClassName},n._l(n.convertData,function(e){return t("div",{key:e.uuid,class:[n.isChild?"process-tree-childNodes-row":"process-tree-roots",n.isChild&&e.isLong?"long-with-line":""],style:n.rootStyle},[t("span",{staticClass:"process-tree-node",class:n.isLeaftNode(e)},[n._v(n._s(e.name))]),n._v(" "),e.children?t("div",{staticClass:"process-tree-childNodes",class:e.children.length>1?"multiply-node":"single-node"},[t("div",n._l(e.children,function(e,r){return t("div",{key:r,staticClass:"process-tree-childNodes-row",class:[e.isLong?"long-with-line":""]},[e.isLong?t("div",{staticClass:"line"}):n._e(),n._v(" "),t("span",{staticClass:"process-tree-node",class:n.isLeaftNode(e)},[n._v(n._s(e.name))]),n._v(" "),e.children?t("div",{staticClass:"process-tree-childNodes",class:[e.children.length>1?"multiply-node":"",1==e.children.length?"single-node":""]},[t("processTree",{attrs:{data:e.children||[],isChild:!0}})],1):n._e()])}))]):n._e()])}))},o=[];r._withStripped=!0;var i={render:r,staticRenderFns:o};e.a=i},function(n,e,t){"use strict";var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"tree-wrap"},[t("ProcessTree",{directives:[{name:"dragabled",rawName:"v-dragabled"}],ref:"tree",attrs:{data:n.treeData}})],1)},o=[];r._withStripped=!0;var i={render:r,staticRenderFns:o};e.a=i}])});